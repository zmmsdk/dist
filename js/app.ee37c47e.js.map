{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/store/index.js","webpack:///./src/App.vue?d420","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/utils/date-time.js","webpack:///./src/utils/sleep.js","webpack:///./src/utils/validation.js","webpack:///./src/utils/register-vant.js","webpack:///./src/main.js","webpack:///./src/utils/storage.js","webpack:///./src/App.vue?6518","webpack:///./src/router/index.js","webpack:///./src/utils/request.js","webpack:///./src/api/user.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","Vue","use","Vuex","Store","state","user","getItem","cachedPages","mutations","setUser","setItem","setKeepAlive","keepAlive","removeCachePage","pageName","index","indexOf","addCachePage","actions","updateProfile","commit","getProfile","_vm","this","_h","$createElement","_c","_self","attrs","$store","staticRenderFns","components","props","computed","watch","created","methods","component","dayjs","locale","extend","rTime","relativeTime","to","formatTime","format","install","filter","time","setInteractionMode","keys","rules","forEach","rule","messages","validate","test","validateForm","form","isValid","sleep","errors","ValidationProvider","ValidationObserver","$validateForm","dateTime","validation","config","productionTip","router","store","render","h","App","$mount","JSON","parse","localStorage","stringify","VueRouter","routes","path","meta","keepalive","children","axios","baseURL","redirectLogin","currentRoute","fullPath","defaults","transformResponse","jsonBig","interceptors","headers","Authorization","token","response","status","refresh_token","method","url","res","log","login","sendSmsCode","mobile","getSelf","userId"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAGnBC,EAAqB,CACxB,IAAO,GAMJjB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASa,EAAe7B,GACvB,OAAOyB,EAAoBK,EAAI,OAAS,GAAG9B,IAAUA,GAAW,IAAM,CAAC,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,YAAYA,GAAW,MAIpM,SAASyB,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAUgC,QAGnC,IAAIC,EAASL,EAAiB5B,GAAY,CACzCK,EAAGL,EACHkC,GAAG,EACHF,QAAS,IAUV,OANAlB,EAAQd,GAAUW,KAAKsB,EAAOD,QAASC,EAAQA,EAAOD,QAASN,GAG/DO,EAAOC,GAAI,EAGJD,EAAOD,QAKfN,EAAoBS,EAAI,SAAuBlC,GAC9C,IAAImC,EAAW,GAIXC,EAAY,CAAC,iBAAiB,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,iBAAiB,GACxFR,EAAmB5B,GAAUmC,EAASvB,KAAKgB,EAAmB5B,IACzB,IAAhC4B,EAAmB5B,IAAkBoC,EAAUpC,IACtDmC,EAASvB,KAAKgB,EAAmB5B,GAAW,IAAIqC,SAAQ,SAASC,EAASC,GAIzE,IAHA,IAAIC,EAAO,QAAU,GAAGxC,IAAUA,GAAW,IAAM,CAAC,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,YAAYA,GAAW,OAC5KyC,EAAWhB,EAAoBK,EAAIU,EACnCE,EAAmBC,SAASC,qBAAqB,QAC7CxC,EAAI,EAAGA,EAAIsC,EAAiBpC,OAAQF,IAAK,CAChD,IAAIyC,EAAMH,EAAiBtC,GACvB0C,EAAWD,EAAIE,aAAa,cAAgBF,EAAIE,aAAa,QACjE,GAAe,eAAZF,EAAIG,MAAyBF,IAAaN,GAAQM,IAAaL,GAAW,OAAOH,IAErF,IAAIW,EAAoBN,SAASC,qBAAqB,SACtD,IAAQxC,EAAI,EAAGA,EAAI6C,EAAkB3C,OAAQF,IAAK,CAC7CyC,EAAMI,EAAkB7C,GACxB0C,EAAWD,EAAIE,aAAa,aAChC,GAAGD,IAAaN,GAAQM,IAAaL,EAAU,OAAOH,IAEvD,IAAIY,EAAUP,SAASQ,cAAc,QACrCD,EAAQF,IAAM,aACdE,EAAQE,KAAO,WACfF,EAAQG,OAASf,EACjBY,EAAQI,QAAU,SAASC,GAC1B,IAAIC,EAAUD,GAASA,EAAME,QAAUF,EAAME,OAAOC,KAAOjB,EACvDkB,EAAM,IAAIC,MAAM,qBAAuB5D,EAAU,cAAgBwD,EAAU,KAC/EG,EAAIE,KAAO,wBACXF,EAAIH,QAAUA,SACP5B,EAAmB5B,GAC1BkD,EAAQY,WAAWC,YAAYb,GAC/BX,EAAOoB,IAERT,EAAQV,KAAOC,EAEf,IAAIuB,EAAOrB,SAASC,qBAAqB,QAAQ,GACjDoB,EAAKC,YAAYf,MACfgB,MAAK,WACPtC,EAAmB5B,GAAW,MAMhC,IAAImE,EAAqBxD,EAAgBX,GACzC,GAA0B,IAAvBmE,EAGF,GAAGA,EACFhC,EAASvB,KAAKuD,EAAmB,QAC3B,CAEN,IAAIC,EAAU,IAAI/B,SAAQ,SAASC,EAASC,GAC3C4B,EAAqBxD,EAAgBX,GAAW,CAACsC,EAASC,MAE3DJ,EAASvB,KAAKuD,EAAmB,GAAKC,GAGtC,IACIC,EADAC,EAAS3B,SAASQ,cAAc,UAGpCmB,EAAOC,QAAU,QACjBD,EAAOE,QAAU,IACb/C,EAAoBgD,IACvBH,EAAOI,aAAa,QAASjD,EAAoBgD,IAElDH,EAAOZ,IAAM7B,EAAe7B,GAG5B,IAAI2E,EAAQ,IAAIf,MAChBS,EAAmB,SAAUd,GAE5Be,EAAOhB,QAAUgB,EAAOjB,OAAS,KACjCuB,aAAaJ,GACb,IAAIK,EAAQlE,EAAgBX,GAC5B,GAAa,IAAV6E,EAAa,CACf,GAAGA,EAAO,CACT,IAAIC,EAAYvB,IAAyB,SAAfA,EAAMH,KAAkB,UAAYG,EAAMH,MAChE2B,EAAUxB,GAASA,EAAME,QAAUF,EAAME,OAAOC,IACpDiB,EAAMK,QAAU,iBAAmBhF,EAAU,cAAgB8E,EAAY,KAAOC,EAAU,IAC1FJ,EAAMM,KAAO,iBACbN,EAAMvB,KAAO0B,EACbH,EAAMnB,QAAUuB,EAChBF,EAAM,GAAGF,GAEVhE,EAAgBX,QAAWkF,IAG7B,IAAIV,EAAUW,YAAW,WACxBd,EAAiB,CAAEjB,KAAM,UAAWK,OAAQa,MAC1C,MACHA,EAAOhB,QAAUgB,EAAOjB,OAASgB,EACjC1B,SAASqB,KAAKC,YAAYK,GAG5B,OAAOjC,QAAQ+C,IAAIjD,IAIpBV,EAAoB4D,EAAIxE,EAGxBY,EAAoB6D,EAAI3D,EAGxBF,EAAoB8D,EAAI,SAASxD,EAASkD,EAAMO,GAC3C/D,EAAoBgE,EAAE1D,EAASkD,IAClC1E,OAAOmF,eAAe3D,EAASkD,EAAM,CAAEU,YAAY,EAAMC,IAAKJ,KAKhE/D,EAAoBoE,EAAI,SAAS9D,GACX,qBAAX+D,QAA0BA,OAAOC,aAC1CxF,OAAOmF,eAAe3D,EAAS+D,OAAOC,YAAa,CAAEC,MAAO,WAE7DzF,OAAOmF,eAAe3D,EAAS,aAAc,CAAEiE,OAAO,KAQvDvE,EAAoBwE,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQvE,EAAoBuE,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAK7F,OAAO8F,OAAO,MAGvB,GAFA5E,EAAoBoE,EAAEO,GACtB7F,OAAOmF,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOvE,EAAoB8D,EAAEa,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIR3E,EAAoB+E,EAAI,SAASxE,GAChC,IAAIwD,EAASxD,GAAUA,EAAOmE,WAC7B,WAAwB,OAAOnE,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAP,EAAoB8D,EAAEC,EAAQ,IAAKA,GAC5BA,GAIR/D,EAAoBgE,EAAI,SAASgB,EAAQC,GAAY,OAAOnG,OAAOC,UAAUC,eAAeC,KAAK+F,EAAQC,IAGzGjF,EAAoBK,EAAI,IAGxBL,EAAoBkF,GAAK,SAAShD,GAA2B,MAApBiD,QAAQjC,MAAMhB,GAAYA,GAEnE,IAAIkD,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAWjG,KAAK2F,KAAKM,GAC5CA,EAAWjG,KAAOf,EAClBgH,EAAaA,EAAWG,QACxB,IAAI,IAAI5G,EAAI,EAAGA,EAAIyG,EAAWvG,OAAQF,IAAKP,EAAqBgH,EAAWzG,IAC3E,IAAIU,EAAsBiG,EAI1B/F,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,uLCrQT+F,OAAIC,IAAIC,QAEO,WAAIA,OAAKC,MAAM,CAC5BC,MAAO,CAELC,KAAMC,eAAQ,QACdC,YAAa,CAAC,WAGhBC,UAAW,CACTC,QADS,SACAL,EAAOvH,GACduH,EAAMC,KAAOxH,EAGb6H,eAAQ,OAAQN,EAAMC,OAGxBM,aARS,SAQKP,EAAOvH,GACnBuH,EAAMQ,UAAY/H,GAGpBgI,gBAZS,SAYQT,EAAOU,GACtB,IAAMC,EAAQX,EAAMG,YAAYS,QAAQF,IACzB,IAAXC,GACFX,EAAMG,YAAYhG,OAAOwG,EAAO,IAIpCE,aAnBS,SAmBKb,EAAOU,GACnBV,EAAMG,YAAY5G,KAAKmH,KAG3BI,QAAS,CACDC,cADC,YACiC,IAAjBf,EAAiB,EAAjBA,MAAOgB,EAAU,EAAVA,OAAU,yJAClChB,EAAMC,KAD4B,gCAEbgB,iBAFa,gBAE5BxI,EAF4B,EAE5BA,KACRuI,EAAO,UAAD,kBACDhB,EAAMC,KADL,GAEDxH,EAAKA,OAL0B,kD,mGCtCxC,EAAS,WAAa,IAAIyI,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,QAAQ,CAACF,EAAG,aAAa,CAACE,MAAM,CAAC,QAAUN,EAAIO,OAAOzB,MAAMG,cAAc,CAACmB,EAAG,gBAAgB,IAAI,IACpNI,EAAkB,GCetB,GACE9D,KAAM,MACN+D,WAAY,GACZC,MAAO,GACPnJ,KAJF,WAKI,MAAO,IAGToJ,SAAU,GACVC,MAAO,GAEPC,QAXF,aAYEC,QAAS,IC5BmT,I,wBCQ1TC,EAAY,eACd,EACA,EACAP,GACA,EACA,KACA,WACA,MAIa,EAAAO,E,gGCXfC,IAAMC,OAAO,SAIbD,IAAME,OAAOC,KAEN,IAAMC,EAAe,SAAA3D,GAC1B,OAAOuD,MAAQK,GAAGL,IAAMvD,KAGb6D,EAAa,SAAC7D,GAA0C,IAAnC8D,EAAmC,uDAA1B,sBACzC,OAAOP,IAAMvD,GAAO8D,OAAOA,IAGd,GACbC,QADa,SACJ9C,GACPA,EAAI+C,OAAO,eAAgBL,GAC3B1C,EAAI+C,OAAO,aAAcH,K,kJCzBd,WAAAI,GACb,OAAO,IAAI5H,SAAQ,SAAAC,GAAO,OAAI6C,WAAW7C,EAAS2H,OCUpDC,eAAmB,SAEnB3J,OAAO4J,KAAKC,GAAOC,SAAQ,SAAAC,GACzBb,eAAOa,EAAD,kBACDF,EAAME,GADL,CAEJtF,QAASuF,OAASD,SAItBb,eAAO,SAAU,CACfe,SAAU,SAAAxE,GACR,MAAO,wBAAwByE,KAAKzE,IAEtChB,QAAS,aAGXyE,eAAO,OAAQ,CACbe,SAAU,SAAAxE,GACR,MAAO,UAAUyE,KAAKzE,IAExBhB,QAAS,YAQX,IAAM0F,EAAY,yDAAG,WAAMC,GAAN,6GACGA,EAAKH,WADR,UACbI,EADa,QAEfA,EAFe,0CAGV,GAHU,uBAObC,EAAM,KAPO,OASbC,EAASH,EAAKG,OATD,6BAUHA,GAVG,iDAUVxE,EAVU,WAWXtB,EAAU8F,EAAOxE,GAAK,IACxBtB,EAZa,wBAaf,eAAMA,GAbS,mBAcR,GAdQ,mEAAH,sDAmBH,GACb+E,QADa,SACJ9C,GACPA,EAAIqC,UAAU,qBAAsByB,QACpC9D,EAAIqC,UAAU,qBAAsB0B,QACpC/D,EAAIzG,UAAUyK,cAAgBP,I,6qBC5BlCzD,OACGC,IADH,QAEGA,IAFH,QAGGA,IAHH,QAIGA,IAJH,QAKGA,IALH,QAMGA,IANH,QAOGA,IAPH,QAQGA,IARH,QASGA,IATH,QAUGA,IAVH,QAWGA,IAXH,QAYGA,IAZH,QAaGA,IAbH,QAcGA,IAdH,QAeGA,IAfH,QAgBGA,IAhBH,QAiBGA,IAjBH,QAkBGA,IAlBH,QAmBGA,IAnBH,QAoBGA,IApBH,QAqBGA,IArBH,QAsBGA,IAtBH,QAuBGA,IAvBH,QAwBGA,IAxBH,QAyBGA,IAzBH,QA0BGA,IA1BH,QA2BGA,IA3BH,SA4BGA,IA5BH,SA6BGA,IA7BH,S,UCxBAD,OAAIC,IAAIgE,GACRjE,OAAIC,IAAIiE,GAERlE,OAAImE,OAAOC,eAAgB,EAE3B,IAAIpE,OAAI,CACNqE,cACAC,aACAC,OAAQ,SAAAC,GAAC,OAAIA,EAAEC,MACdC,OAAO,S,oCCnBV,oEACO,IAAMpE,EAAU,SAAAtC,GACrB,OAAO2G,KAAKC,MAAM/E,OAAOgF,aAAavE,QAAQtC,KAGnC0C,EAAU,SAAC1C,EAAMe,GAC5Bc,OAAOgF,aAAanE,QAAQ1C,EAAM2G,KAAKG,UAAU/F,M,2DCNnD,yBAAgd,EAAG,G,wECGndiB,OAAIC,IAAI8E,QAER,IAAMC,EAAS,CACb,CACEhH,KAAM,QACNiH,KAAM,SACNC,KAAM,QACNC,WAAW,EACX9C,UAAW,kBAAM,kDAEnB,CACE4C,KAAM,IACN5C,UAAW,kBAAM,iDACjB+C,SAAU,CACR,CACEpH,KAAM,SACNiH,KAAM,GACN5C,UAAW,kBAAM,iDACjB6C,KAAM,SACNC,WAAW,GAEb,CACEnH,KAAM,KACNiH,KAAM,MACN5C,UAAW,kBAAM,iDACjB6C,KAAM,KACNC,WAAW,MAQbd,EAAS,IAAIU,OAAU,CAC3BC,WAGaX,U,uLC/BT9H,EAAU8I,IAAMjG,OAAO,CAC3BkG,QAAS,qCAkGX,SAASC,IAEPlB,OAAO1K,KAAK,mBAAqB0K,OAAOmB,aAAaC,UA9FvDlJ,EAAQmJ,SAASC,kBAAoB,CAAC,SAAU9M,GAC9C,IACE,OAAO+M,IAAQhB,MAAM/L,GACrB,MAAO6D,GACP,MAAO,MAKXH,EAAQsJ,aAAatJ,QAAQ0D,KAC3B,SAAUkE,GAAQ,IAKR9D,EAASiE,OAAMlE,MAAfC,KAMR,OALIA,IAEF8D,EAAO2B,QAAQC,cAAf,iBAAyC1F,EAAK2F,QAGzC7B,KAET,SAAUzG,GAER,OAAOtC,QAAQE,OAAOoC,MAK1BnB,EAAQsJ,aAAaI,SAAShG,KAG5B,SAAUgG,GAGR,OAAOA,IANX,yDASE,WAAgBvI,GAAhB,6FAMMA,EAAMuI,UAAsC,MAA1BvI,EAAMuI,SAASC,OANvC,oBAQU7F,EAAOiE,OAAMlE,MAAMC,KAEpBA,GAASA,EAAK8F,cAVvB,uBAYMZ,IAZN,mDAoBwBF,IAAM,CACtBe,OAAQ,MACRC,IAAK,0DACLP,QAAS,CACPC,cAAe,UAAF,OAAY1F,EAAK8F,kBAxBxC,cAoBYG,EApBZ,OA6BM3G,QAAQ4G,IAAI,eAAgBD,GAC5BhC,OAAMlD,OAAO,UAAW,CACtB4E,MAAOM,EAAIzN,KAAKA,KAAKmN,MACrBG,cAAe9F,EAAK8F,gBAhC5B,kBAsCa5J,EAAQmB,EAAMyG,SAtC3B,qCAyCMxE,QAAQ4G,IAAI,gBAAZ,MAEAhB,IA3CN,gCA6CuC,MAA1B7H,EAAMuI,SAASC,QACxB,eAAO,eA9CX,iCAiDS9K,QAAQE,OAAOoC,IAjDxB,0DATF,uDAmEenB,U,8MC1GR,SAASiK,EAAO3N,GACrB,OAAO0D,eAAQ,CACb6J,OAAQ,OACRC,IAAK,2BACLxN,SAOG,SAAS4N,EAAaC,GAC3B,OAAOnK,eAAQ,CACb6J,OAAQ,MACRC,IAAK,uBAAF,OAAyBK,KAyCzB,SAASC,IACd,OAAOpK,eAAQ,CACb6J,OAAQ,MACRC,IAAK,mBAOF,SAAShF,EAAYuF,GAC1B,OAAOrK,eAAQ,CACb6J,OAAQ,MACRC,IAAK","file":"js/app.ee37c47e.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-17d98139\":\"d3314e21\",\"chunk-5aa948a8\":\"ab413d3b\",\"chunk-70fa2d3e\":\"f06b63af\",\"chunk-b60754bc\":\"6cb57452\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-17d98139\":1,\"chunk-5aa948a8\":1,\"chunk-70fa2d3e\":1,\"chunk-b60754bc\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-17d98139\":\"c930c855\",\"chunk-5aa948a8\":\"3403d31b\",\"chunk-70fa2d3e\":\"888fd126\",\"chunk-b60754bc\":\"36cded80\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport { setItem, getItem } from '@/utils/storage'\r\nimport { getProfile } from '@/api/user'\r\n\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n  state: {\r\n    // 登录用户，一个对象，包含 token 信息\r\n    user: getItem('user'),\r\n    cachedPages: ['TabBar']\r\n  },\r\n  // 操作state中的属性\r\n  mutations: {\r\n    setUser (state, data) {\r\n      state.user = data\r\n\r\n      // 为了防止刷新丢失 state 中的 user 状态，我们把它放到本地存储\r\n      setItem('user', state.user)\r\n    },\r\n\r\n    setKeepAlive (state, data) {\r\n      state.keepAlive = data\r\n    },\r\n\r\n    removeCachePage (state, pageName) {\r\n      const index = state.cachedPages.indexOf(pageName)\r\n      if (index !== -1) {\r\n        state.cachedPages.splice(index, 1)\r\n      }\r\n    },\r\n\r\n    addCachePage (state, pageName) {\r\n      state.cachedPages.push(pageName)\r\n    }\r\n  },\r\n  actions: {\r\n    async updateProfile ({ state, commit }) {\r\n      if (state.user) {\r\n        const { data } = await getProfile()\r\n        commit('setUser', {\r\n          ...state.user,\r\n          ...data.data\r\n        })\r\n      }\r\n    }\r\n  }\r\n})\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('keep-alive',{attrs:{\"include\":_vm.$store.state.cachedPages}},[_c('router-view')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"app\">\r\n    <!-- 根路由出口 -->\r\n    <!-- 缓存路由组件 -->\r\n    <!--\r\n      keep-alive 会缓存组件\r\n      组件缓存之后，生命周期不再执行了\r\n      如果不需要某些组件缓存，可以指定 include 或者 exclude 来包含或者排除\r\n     -->\r\n    <keep-alive :include=\"$store.state.cachedPages\">\r\n      <router-view />\r\n    </keep-alive>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'App',\r\n  components: {},\r\n  props: {},\r\n  data () {\r\n    return {\r\n    }\r\n  },\r\n  computed: {},\r\n  watch: {\r\n  },\r\n  created () {},\r\n  methods: {}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.box {\r\n  width: 375px;\r\n  height: 100px;\r\n  background-color: #f40;\r\n}\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=035a6b4f&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=035a6b4f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"035a6b4f\",\n  null\n  \n)\n\nexport default component.exports","/**\r\n * 封装自定义 dayjs 日期处理模块\r\n */\r\nimport dayjs from 'dayjs'\r\nimport rTime from 'dayjs/plugin/relativeTime'\r\nimport 'dayjs/locale/zh-cn'\r\n\r\n// 全局使用中文\r\ndayjs.locale('zh-cn')\r\n\r\n// dayjs 本身只处理日期格式化之类的核心功能\r\n// 其它例如相对时间，需要单独配置它自己的插件才可以使用\r\ndayjs.extend(rTime)\r\n\r\nexport const relativeTime = value => {\r\n  return dayjs().to(dayjs(value))\r\n}\r\n\r\nexport const formatTime = (value, format = 'YYYY-MM-DD hh:mm:ss') => {\r\n  return dayjs(value).format(format)\r\n}\r\n\r\nexport default {\r\n  install (Vue) {\r\n    Vue.filter('relativeTime', relativeTime)\r\n    Vue.filter('formatTime', formatTime)\r\n  }\r\n}\r\n","export default time => {\r\n  return new Promise(resolve => setTimeout(resolve, time))\r\n}\r\n","import {\r\n  ValidationProvider,\r\n  ValidationObserver,\r\n  extend,\r\n  setInteractionMode\r\n} from 'vee-validate'\r\nimport * as rules from 'vee-validate/dist/rules'\r\nimport { messages } from 'vee-validate/dist/locale/zh_CN.json'\r\nimport { Toast } from 'vant'\r\nimport sleep from './sleep'\r\n\r\nsetInteractionMode('eager')\r\n\r\nObject.keys(rules).forEach(rule => {\r\n  extend(rule, {\r\n    ...rules[rule], // copies rule configuration\r\n    message: messages[rule] // assign message\r\n  })\r\n})\r\n\r\nextend('mobile', {\r\n  validate: value => {\r\n    return /^1(3|5|6|7|8|9)\\d{9}$/.test(value)\r\n  },\r\n  message: '手机号码格式错误'\r\n})\r\n\r\nextend('code', {\r\n  validate: value => {\r\n    return /^\\d{6}$/.test(value)\r\n  },\r\n  message: '验证码格式错误'\r\n})\r\n\r\n/**\r\n * 表单验证，验证失败给出提示\r\n * @param  {Object} form 要验证的表单组件\r\n * @return {Boolean}      验证结果，成功 true，失败 false\r\n */\r\nconst validateForm = async form => {\r\n  const isValid = await form.validate()\r\n  if (isValid) {\r\n    return true\r\n  }\r\n\r\n  // 注意：验证插件有问题，如果不延迟一点时间无法拿到验证之后的错误对象\r\n  await sleep(100)\r\n\r\n  const errors = form.errors\r\n  for (let key in errors) {\r\n    const message = errors[key][0]\r\n    if (message) {\r\n      Toast(message)\r\n      return false\r\n    }\r\n  }\r\n}\r\n\r\nexport default {\r\n  install (Vue) {\r\n    Vue.component('ValidationProvider', ValidationProvider)\r\n    Vue.component('ValidationObserver', ValidationObserver)\r\n    Vue.prototype.$validateForm = validateForm\r\n  }\r\n}\r\n\r\n// 自定义异步验证示例\r\n// 1. 异步操作写到 Promise 中\r\n// 2. 成功 resolve(true)\r\n// 3. 失败 resolve('提示消息')\r\n// extend('async-test', value => {\r\n//   return new Promise(resolve => {\r\n//     setTimeout(() => {\r\n//       return Math.random() > 0.5 ? resolve(true) : reject('错误消息')\r\n//     }, 500)\r\n//   })\r\n// })\r\n","import Vue from 'vue'\r\n\r\nimport {\r\n  Button,\r\n  Cell,\r\n  CellGroup,\r\n  Field,\r\n  NavBar,\r\n  Toast,\r\n  Tabbar,\r\n  TabbarItem,\r\n  Tab,\r\n  Tabs,\r\n  List,\r\n  PullRefresh,\r\n  Grid,\r\n  GridItem,\r\n  Image,\r\n  Lazyload,\r\n  Popup,\r\n  Icon,\r\n  Search,\r\n  Loading,\r\n  Dialog,\r\n  Divider,\r\n  ActionSheet,\r\n  DatetimePicker,\r\n  Skeleton,\r\n  CountDown,\r\n  ImagePreview,\r\n  Row,\r\n  Col\r\n} from 'vant'\r\n\r\nVue\r\n  .use(Button)\r\n  .use(Cell)\r\n  .use(CellGroup)\r\n  .use(Field)\r\n  .use(NavBar)\r\n  .use(Toast)\r\n  .use(Tabbar)\r\n  .use(TabbarItem)\r\n  .use(Tab)\r\n  .use(Tabs)\r\n  .use(List)\r\n  .use(PullRefresh)\r\n  .use(Grid)\r\n  .use(GridItem)\r\n  .use(Image)\r\n  .use(Lazyload)\r\n  .use(Popup)\r\n  .use(Icon)\r\n  .use(Search)\r\n  .use(Loading)\r\n  .use(Dialog)\r\n  .use(Divider)\r\n  .use(ActionSheet)\r\n  .use(DatetimePicker)\r\n  .use(Skeleton)\r\n  .use(CountDown)\r\n  .use(ImagePreview)\r\n  .use(Row)\r\n  .use(Col)\r\n","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport store from './store'\r\nimport dateTime from './utils/date-time'\r\nimport validation from './utils/validation'\r\nimport 'amfe-flexible'\r\nimport './utils/register-vant.js'\r\nimport './styles/index.less'\r\n\r\nVue.use(dateTime)\r\nVue.use(validation)\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  router,\r\n  store,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n","// 操作本地存储的工具模块\r\nexport const getItem = name => {\r\n  return JSON.parse(window.localStorage.getItem(name))\r\n}\r\n\r\nexport const setItem = (name, value) => {\r\n  window.localStorage.setItem(name, JSON.stringify(value))\r\n}\r\n\r\nexport const removeItem = name => {\r\n  window.localStorage.removeItem(name)\r\n}\r\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=035a6b4f&scoped=true&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=035a6b4f&scoped=true&lang=css&\"","import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\n\r\nVue.use(VueRouter)\r\n\r\nconst routes = [\r\n  { // 登录\r\n    name: 'login',\r\n    path: '/login',\r\n    meta: 'login',\r\n    keepalive: true,\r\n    component: () => import('@/views/login')\r\n  },\r\n  { // 底部标签栏\r\n    path: '/',\r\n    component: () => import('@/views/tab-bar'),\r\n    children: [\r\n      { // 首页\r\n        name: 'search',\r\n        path: '', //\r\n        component: () => import('@/views/search'),\r\n        meta: 'search',\r\n        keepalive: true\r\n      },\r\n      { // 我的\r\n        name: 'my',\r\n        path: '/my',\r\n        component: () => import('@/views/my'),\r\n        meta: 'my',\r\n        keepalive: true\r\n      }\r\n\r\n    ]\r\n  }\r\n\r\n]\r\n\r\nconst router = new VueRouter({\r\n  routes\r\n})\r\n\r\nexport default router\r\n","/**\r\n * 封装 axios 请求模块\r\n */\r\nimport axios from 'axios'\r\nimport jsonBig from 'json-bigint'\r\nimport store from '@/store'\r\nimport router from '@/router'\r\nimport { Notify } from 'vant'\r\n\r\n// axios.create 方法：复制一个 axios\r\nconst request = axios.create({\r\n  baseURL: 'http://ttapi.research.itcast.cn/' // 基础路径\r\n})\r\n\r\n/**\r\n * 配置处理后端返回数据中超出 js 安全整数范围问题\r\n */\r\nrequest.defaults.transformResponse = [function (data) {\r\n  try {\r\n    return jsonBig.parse(data)\r\n  } catch (err) {\r\n    return {}\r\n  }\r\n}]\r\n\r\n// 请求拦截器\r\nrequest.interceptors.request.use(\r\n  function (config) {\r\n    // 从容器中获取登录状态 点击登录会在请求拦截器中  发送token\r\n    // 统一设置token\r\n    // 对象解构重构方式\r\n    // const user  = store.state.user\r\n    const { user } = store.state\r\n    if (user) {\r\n      // config.headers获取请求头这是axios固定的api\r\n      config.headers.Authorization = `Bearer ${user.token}`\r\n    }\r\n    // Do something before request is sent\r\n    return config\r\n  },\r\n  function (error) {\r\n    // Do something with request error\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n// 响应拦截器\r\nrequest.interceptors.response.use(\r\n  // 响应成功进入第1个函数\r\n  // 该函数的参数是响应对象\r\n  function (response) {\r\n    // Any status code that lie within the range of 2xx cause this function to trigger\r\n    // Do something with response data\r\n    return response\r\n  },\r\n  // 响应失败进入第2个函数，该函数的参数是错误对象\r\n  async function (error) {\r\n    // Any status codes that falls outside the range of 2xx cause this function to trigger\r\n    // Do something with response error\r\n    // 如果响应码是 401 ，则请求获取新的 token\r\n\r\n    // 响应拦截器中的 error 就是那个响应的错误对象\r\n    if (error.response && error.response.status === 401) {\r\n      // 校验是否有 refresh_token\r\n      const user = store.state.user\r\n\r\n      if (!user || !user.refresh_token) {\r\n        // router.push('/login')\r\n        redirectLogin()\r\n\r\n        // 代码不要往后执行了\r\n        return\r\n      }\r\n\r\n      // 如果有refresh_token，则请求获取新的 token  token 过期\r\n      try {\r\n        const res = await axios({\r\n          method: 'PUT',\r\n          url: 'http://ttapi.research.itcast.cn/app/v1_0/authorizations',\r\n          headers: {\r\n            Authorization: `Bearer ${user.refresh_token}`\r\n          }\r\n        })\r\n\r\n        // 如果获取成功，则把新的 token 更新到容器中\r\n        console.log('刷新 token  成功', res)\r\n        store.commit('setUser', {\r\n          token: res.data.data.token, // 最新获取的可用 token\r\n          refresh_token: user.refresh_token // 还是原来的 refresh_token\r\n        })\r\n\r\n        // 把之前失败的用户请求继续发出去\r\n        // config 是一个对象，其中包含本次失败请求相关的那些配置信息，例如 url、method 都有\r\n        // return 把 request 的请求结果继续返回给发请求的具体位置\r\n        return request(error.config)\r\n      } catch (err) {\r\n        // 如果获取失败，直接跳转 登录页\r\n        console.log('请求刷线 token 失败', err)\r\n        // router.push('/login')\r\n        redirectLogin()\r\n      }\r\n    } else if (error.response.status === 500) {\r\n      Notify('服务端异常，请稍后重试')\r\n    }\r\n\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nfunction redirectLogin () {\r\n  // router.currentRoute 当前路由对象，和你在组件中访问的 this.$route 是同一个东西\r\n  router.push('/login?redirect=' + router.currentRoute.fullPath)\r\n}\r\n\r\nexport default request\r\n","/**\r\n * 用户相关的请求模块\r\n */\r\nimport request from '@/utils/request'\r\n\r\n/**\r\n * 用户登录\r\n */\r\nexport function login (data) {\r\n  return request({\r\n    method: 'POST',\r\n    url: '/app/v1_0/authorizations',\r\n    data\r\n  })\r\n}\r\n\r\n/**\r\n * 获取验证码\r\n */\r\nexport function sendSmsCode (mobile) {\r\n  return request({\r\n    method: 'GET',\r\n    url: `/app/v1_0/sms/codes/${mobile}`\r\n  })\r\n}\r\n/**\r\n * 获取用户频道列表\r\n * 如果登录了：获取用户频道列表\r\n * 没有登录：获取默认推荐的频道列表\r\n */\r\nexport function getUserChannels () {\r\n  return request({\r\n    method: 'GET',\r\n    url: '/app/v1_0/user/channels'\r\n  })\r\n}\r\n\r\n/**\r\n * 关注用户\r\n */\r\nexport function followUser (userId) {\r\n  return request({\r\n    method: 'POST',\r\n    url: '/app/v1_0/user/followings',\r\n    data: {\r\n      target: userId\r\n    }\r\n  })\r\n}\r\n\r\n/**\r\n * 取消关注用户\r\n */\r\nexport function unFollowUser (userId) {\r\n  return request({\r\n    method: 'DELETE',\r\n    url: `/app/v1_0/user/followings/${userId}`\r\n  })\r\n}\r\n\r\n/**\r\n * 获取当前登录用户自己信息\r\n */\r\nexport function getSelf () {\r\n  return request({\r\n    method: 'GET',\r\n    url: '/app/v1_0/user'\r\n  })\r\n}\r\n\r\n/**\r\n * 获取用户个人资料\r\n */\r\nexport function getProfile (userId) {\r\n  return request({\r\n    method: 'GET',\r\n    url: '/app/v1_0/user/profile'\r\n  })\r\n}\r\n\r\n/**\r\n * 更新用户照片资料\r\n */\r\nexport function updateUserPhoto (formData) {\r\n  return request({\r\n    method: 'PATCH',\r\n    url: '/app/v1_0/user/photo',\r\n    // Content-Type multipart/form-data\r\n    // 必须传递 FormData 对象\r\n    data: formData\r\n  })\r\n}\r\n\r\n/**\r\n * 更新用户照片资料\r\n */\r\nexport function updateUserProfile (data) {\r\n  return request({\r\n    method: 'PATCH',\r\n    url: '/app/v1_0/user/profile',\r\n    data\r\n  })\r\n}\r\n\r\n/**\r\n * 获取指定用户信息\r\n */\r\nexport function getUserById (userId) {\r\n  return request({\r\n    method: 'GET',\r\n    url: `/app/v1_0/users/${userId}`\r\n  })\r\n}\r\n\r\n/**\r\n * 获取用户的关注列表\r\n */\r\nexport function getFollowersByUser (userId, params) {\r\n  return request({\r\n    method: 'GET',\r\n    url: '/app/v1_0/user/followers',\r\n    params,\r\n    data: {\r\n      target: userId.toString()\r\n    }\r\n  })\r\n}\r\n"],"sourceRoot":""}